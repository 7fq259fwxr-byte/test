<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxury Hair Extensions</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: #0f0f0f;
            color: #e0e0e0;
            line-height: 1.7;
            overflow-x: hidden;
        }

        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Hero */
        #hero {
            height: 100vh;
            min-height: 760px;
            background: linear-gradient(rgba(15,15,15,0.72), rgba(15,15,15,0.48)),
                        url('https://images.unsplash.com/photo-1591370871779-8b446a82e7db?auto=format&fit=crop&q=80&w=1974') center/cover no-repeat fixed;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
        }

        .hero-content {
            max-width: 920px;
            padding: 0 20px;
        }

        #hero h1 {
            font-size: clamp(3rem, 7vw, 5.2rem);
            margin-bottom: 0.5em;
            color: #fff;
        }

        #hero p {
            font-size: clamp(1.25rem, 3vw, 1.7rem);
            margin-bottom: 2.5rem;
            color: #d0d0d0;
            font-weight: 300;
        }

        .btn-primary {
            display: inline-block;
            padding: 16px 48px;
            background: transparent;
            color: #C9A227;
            font-weight: 500;
            letter-spacing: 1px;
            border: 1px solid #C9A227;
            border-radius: 50px;
            transition: all 0.45s ease;
            cursor: pointer;
            text-transform: uppercase;
            font-size: 0.95rem;
        }

        .btn-primary:hover {
            background: #C9A227;
            color: #0f0f0f;
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(201,162,39,0.35);
        }

        /* Sections */
        section {
            padding: 140px 0;
        }

        section h2 {
            font-size: clamp(2.8rem, 5.5vw, 4.2rem);
            text-align: center;
            margin-bottom: 3.5rem;
            color: #fff;
        }

        .fade-in-section {
            opacity: 0;
            transform: translateY(60px);
            transition: opacity 1.1s ease-out, transform 1.1s ease-out;
        }

        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* About */
        #about {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: center;
            text-align: center;
        }

        #about .text {
            text-align: left;
        }

        @media (max-width: 768px) {
            #about .text {
                text-align: center;
            }
        }

        #about img {
            width: 100%;
            height: auto;
            border-radius: 12px;
            object-fit: cover;
            box-shadow: 0 30px 70px rgba(0,0,0,0.6);
        }

        #about p {
            font-size: 1.15rem;
            color: #ccc;
        }

        /* Gallery */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 16px;
        }

        .gallery-grid img {
            width: 100%;
            aspect-ratio: 3 / 4;
            object-fit: cover;
            border-radius: 12px;
            transition: all 0.6s ease;
            cursor: zoom-in;
        }

        .gallery-grid img:hover {
            transform: scale(1.07);
            box-shadow: 0 30px 70px rgba(0,0,0,0.7);
        }

        /* Before After */
        .ba-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }

        .ba-card {
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            height: 400px;
        }

        .ba-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.3s;
        }

        .ba-card::before {
            content: 'До / После';
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.6);
            color: #fff;
            padding: 4px 8px;
            border-radius: 4px;
            z-index: 2;
        }

        .ba-card:hover img {
            opacity: 0.8;
        }

        /* Services */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
            gap: 40px;
        }

        .service-card {
            background: #1a1a1a;
            padding: 48px 32px;
            border-radius: 16px;
            border: 1px solid #2a2a2a;
            transition: all 0.5s ease;
            text-align: center;
        }

        .service-card:hover {
            transform: translateY(-16px);
            border-color: #C9A227;
            box-shadow: 0 30px 80px rgba(201,162,39,0.15);
        }

        .service-icon {
            width: 70px;
            height: 70px;
            margin: 0 auto 28px;
            background: transparent;
            border: 1px solid #C9A227;
            color: #C9A227;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.9rem;
            font-weight: 600;
            transition: all 0.5s ease;
        }

        .service-card:hover .service-icon {
            background: #C9A227;
            color: #0f0f0f;
            transform: scale(1.12);
        }

        .service-card h3 {
            color: #fff;
            margin-bottom: 1rem;
        }

        /* Reviews */
        #reviews {
            background: #1a1a1a;
        }

        .reviews-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
        }

        .review-card {
            background: #000;
            padding: 32px;
            border-radius: 16px;
            border: 1px solid #222;
            transition: all 0.4s;
        }

        .review-card:hover {
            border-color: #C9A227;
            transform: translateY(-8px);
        }

        .stars {
            color: #C9A227;
            margin-bottom: 12px;
        }

        .review-text {
            font-style: italic;
            margin-bottom: 16px;
        }

        .review-author {
            text-align: right;
            font-weight: 500;
        }

        /* Why us */
        #why-us {
            background: #000;
        }

        .why-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 50px;
        }

        .why-block {
            text-align: center;
            padding: 30px 20px;
            border: 1px solid #222;
            border-radius: 16px;
            transition: all 0.5s ease;
        }

        .why-block:hover {
            border-color: #C9A227;
            transform: translateY(-12px);
        }

        .why-icon {
            font-size: 3.8rem;
            margin-bottom: 1.4rem;
            color: #C9A227;
            font-weight: 600;
            transition: transform 0.7s ease;
        }

        .why-block:hover .why-icon {
            transform: scale(1.25);
        }

        /* Contact */
        form {
            max-width: 680px;
            margin: 0 auto 40px;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        input, textarea, select {
            padding: 18px 24px;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 12px;
            color: #eee;
            font-family: inherit;
            font-size: 1.05rem;
            transition: all 0.4s;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #C9A227;
            box-shadow: 0 0 0 4px rgba(201,162,39,0.18);
        }

        button[type="submit"] {
            padding: 18px;
            background: transparent;
            color: #C9A227;
            border: 1px solid #C9A227;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.45s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        button[type="submit"]:hover {
            background: #C9A227;
            color: #0f0f0f;
            transform: translateY(-3px);
        }

        button[type="submit"]:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        #form-message {
            text-align: center;
            font-size: 1.25rem;
            font-weight: 500;
            padding: 16px;
            border-radius: 12px;
            min-height: 60px;
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        #form-message.show {
            opacity: 1;
            transform: translateY(0);
        }

        #form-message.success {
            background: rgba(201, 162, 39, 0.12);
            color: #C9A227;
            border: 1px solid rgba(201, 162, 39, 0.3);
        }

        #form-message.error {
            background: rgba(255, 107, 107, 0.12);
            color: #ff6b6b;
            border: 1px solid rgba(255, 107, 107, 0.3);
        }

        .phone-wrapper {
            display: flex;
            gap: 12px;
            align-items: stretch;
        }

        #country-code {
            width: 140px;
            padding-right: 32px !important;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><polygon points="0,0 12,0 6,12" fill="%23C9A227"/></svg>');
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 12px;
            appearance: none;
        }

        .contacts {
            text-align: center;
            font-size: 1.1rem;
        }

        .contacts a {
            color: #C9A227;
        }

        /* Footer */
        footer {
            padding: 80px 0 40px;
            text-align: center;
            background: #000;
            color: #777;
            font-size: 0.95rem;
            border-top: 1px solid #222;
        }

        footer .social-icons {
            margin-top: 20px;
        }

        footer .social-icons a {
            margin: 0 16px;
            display: inline-block;
            width: 24px;
            height: 24px;
            transition: transform 0.3s;
        }

        footer .social-icons a:hover {
            transform: scale(1.2);
        }

        footer .social-icons svg {
            fill: #C9A227;
            width: 100%;
            height: 100%;
        }

        footer .social-icons svg:hover {
            fill: #fff;
        }

        @media (max-width: 960px) {
            #about { grid-template-columns: 1fr; gap: 60px; }
            section { padding: 100px 0; }
        }

        @media (max-width: 640px) {
            #hero h1 { font-size: 2.8rem; }
            #hero p  { font-size: 1.3rem; }
            .phone-wrapper { flex-direction: column; gap: 16px; }
            #country-code { width: 100%; }
            .ba-grid { gap: 40px; }
            .ba-card { height: auto; }
        }
    </style>
</head>
<body>

    <section id="hero">
        <div class="hero-content fade-in-section">
            <h1>Luxury Hair Extensions<br>— Natural Look & Perfect Length</h1>
            <p>Премиальное наращивание волос с идеальным результатом</p>
            <div class="btn-primary" onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'})">
                Записаться на консультацию
            </div>
        </div>
    </section>

    <section id="about">
        <div class="container">
            <div class="fade-in-section text">
                <h2>О нас</h2>
                <p>Мы работаем исключительно с натуральными волосами премиум-класса — славянскими и европейскими. Каждый клиент получает индивидуальный подход, безупречный подбор оттенка и текстуры, а также долговечный результат в атмосфере абсолютной конфиденциальности и роскоши.</p>
            </div>
            <div class="fade-in-section">
                <img src="https://images.unsplash.com/photo-1562322140-8baeececf3df?auto=format&fit=crop&q=80&w=1974" alt="Профессиональное наращивание волос" loading="lazy">
            </div>
        </div>
    </section>

    <section id="gallery" class="fade-in-section">
        <div class="container">
            <h2>Наши работы</h2>
            <div class="gallery-grid">
                <img src="https://images.unsplash.com/photo-1596462502278-27bfdc403348?auto=format&fit=crop&q=80" alt="Работа 1" loading="lazy">
                <img src="https://images.unsplash.com/photo-1625772299848-361b803ffa25?auto=format&fit=crop&q=80" alt="Работа 2" loading="lazy">
                <img src="https://images.unsplash.com/photo-1600948836101-f9ffda4f8e4a?auto=format&fit=crop&q=80" alt="Работа 3" loading="lazy">
                <img src="https://images.unsplash.com/photo-1582093236148-1f45d4d8f2f0?auto=format&fit=crop&q=80" alt="Работа 4" loading="lazy">
                <img src="https://images.unsplash.com/photo-1591370871779-8b446a82e7db?auto=format&fit=crop&q=80" alt="Работа 5" loading="lazy">
                <img src="https://images.unsplash.com/photo-1616594039964-ae1d169d13b4?auto=format&fit=crop&q=80" alt="Работа 6" loading="lazy">
            </div>
        </div>
    </section>

    <section id="before-after" class="fade-in-section">
        <div class="container">
            <h2>До / После</h2>
            <div class="ba-grid">
                <div class="ba-card">
                    <img src="https://lawa.salon/wp-content/uploads/2023/04/hot-fusionn-hair-extensions-lawa-salon-before-after-1-resized.webp" alt="До / После 1" loading="lazy">
                </div>
                <div class="ba-card">
                    <img src="https://lawa.salon/wp-content/uploads/2023/04/hot-fusionn-hair-extensions-lawa-salon-before-after-2.webp" alt="До / После 2" loading="lazy">
                </div>
                <div class="ba-card">
                    <img src="https://img1.wsimg.com/isteam/ip/dc618952-a5da-45df-8a64-21c54927904b/image1_affbdf73-586f-43a1-942a-59c13cbfe5b3_1.webp" alt="До / После 3" loading="lazy">
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="fade-in-section">
        <div class="container">
            <h2>Услуги</h2>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">T</div>
                    <h3>Tape-in</h3>
                    <p>Самый лёгкий и незаметный метод. Идеален для тонких и повреждённых волос. Быстрое нанесение и комфортная носка.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">K</div>
                    <h3>Кератин</h3>
                    <p>Капсульное наращивание высокой прочности. Максимально естественный вид и носка до 6 месяцев без коррекции.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">C</div>
                    <h3>Консультация + уход</h3>
                    <p>Глубокая диагностика состояния волос, точный подбор, профессиональные рекомендации по уходу и стайлингу.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="reviews" class="fade-in-section">
        <div class="container">
            <h2>Отзывы</h2>
            <div class="reviews-grid">
                <div class="review-card">
                    <div class="stars">★★★★★</div>
                    <p class="review-text">"Волосы выглядят натурально, как свои! Мастер — профессионал, всё сделала быстро и аккуратно."</p>
                    <p class="review-author">— Анна К.</p>
                </div>
                <div class="review-card">
                    <div class="stars">★★★★★</div>
                    <p class="review-text">"Идеальный результат, держится уже 4 месяца. Рекомендую всем!"</p>
                    <p class="review-author">— Мария С.</p>
                </div>
                <div class="review-card">
                    <div class="stars">★★★★★</div>
                    <p class="review-text">"Премиум качество, невидимые крепления. Атмосфера салона на высоте."</p>
                    <p class="review-author">— Ольга П.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="why-us" class="fade-in-section">
        <div class="container">
            <h2>Почему выбирают нас</h2>
            <div class="why-grid">
                <div class="why-block">
                    <div class="why-icon">100%</div>
                    <h3>Натуральные волосы</h3>
                    <p>Только премиальные славянские и европейские волосы высшего качества</p>
                </div>
                <div class="why-block">
                    <div class="why-icon">✗</div>
                    <h3>Невидимые крепления</h3>
                    <p>Максимально естественный результат даже при собранных причёсках</p>
                </div>
                <div class="why-block">
                    <div class="why-icon">6+</div>
                    <h3>Долговечность</h3>
                    <p>Носка от 4 до 8 месяцев при правильном уходе</p>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="fade-in-section">
        <div class="container">
            <h2>Оставьте заявку</h2>
            <form id="contact-form" action="https://formsubmit.co/nikitulkaah@gmail.com" method="POST">
                <input type="text" name="Имя" placeholder="Ваше имя" required>

                <div class="phone-wrapper">
                    <select id="country-code" name="Код_страны" required>
                        <option value="+7" selected>Россия +7</option>
                        <option value="+375">Беларусь +375</option>
                    </select>

                    <input 
                        type="tel" 
                        id="phone" 
                        name="Телефон" 
                        placeholder="+7 (___) ___-__-__" 
                        required
                    >
                </div>

                <textarea name="Сообщение" rows="5" placeholder="Когда вам удобно прийти? Желаемый объём, длина, оттенок?" required></textarea>

                <input type="hidden" name="_subject" value="Новая заявка с сайта Luxury Hair Extensions">
                <input type="hidden" name="_autoresponse" value="Спасибо! Мы получили вашу заявку и свяжемся в ближайшее время (обычно в течение 1–2 часов).">
                <input type="hidden" name="_captcha" value="false">
                <input type="text" name="_gotcha" style="display:none !important">

                <button type="submit" id="submit-btn">Отправить заявку</button>
            </form>

            <div id="form-message"></div>

            <div class="contacts">
                <p>Телефон: +31 6 123 45 678</p>
                <p>Instagram: <a href="#">@luxhair.amsterdam</a></p>
            </div>
        </div>
    </section>

    <footer>
        <p>© 2026 Luxury Hair Extensions Amsterdam</p>
        <div class="social-icons">
            <a href="https://wa.me/1234567890" title="WhatsApp">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0C5.373 0 0 5.373 0 12c0 2.13.57 4.12 1.56 5.837L.1 23.9l6.062-1.46C7.88 23.43 9.87 24 12 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 22c-1.94 0-3.74-.48-5.34-1.32l-.38-.22-3.6.86.82-3.6-.22-.38C1.48 15.74 1 13.94 1 12C1 5.935 5.935 1 12 1s11 4.935 11 11-4.935 11-11 11zm6.5-5.5c-.3-.15-1.75-.86-2.02-.96-.27-.1-.47-.15-.67.15-.2.3-.77.96-.95 1.16-.17.2-.35.22-.65.07-.3-.15-1.27-.47-2.42-1.5- .94-.8-1.58-1.78-1.76-2.08-.17-.3-.02-.46.13-.61.13-.13.3-.34.45-.51.15-.17.2-.3.3-.5.1-.2.05-.37-.02-.52-.07-.15-.67-1.62- .92-2.22-.25-.6-.5-.52-.67-.52-.17 0-.37-.02-.57-.02-.2 0-.52.08-.67.37-.15.3-.57 1.13-.57 2.75 0 1.62 1.17 3.18 1.33 3.4.17.22 2.3 3.5 5.57 4.92  .8.35 1.43.56 1.92.72.8.26 1.53.22 2.1.13.64-.1 1.97-.8 2.25-1.58.28-.77.28-1.43.2-1.57-.08-.15-.3-.23-.6-.38z"/>
                </svg>
            </a>
            <a href="https://t.me/username" title="Telegram">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm6.92 8.154c-.23 2.44-1.3 8.35-1.83 10.77-.25 1.13-.8 1.5-1.36 1.54-1.16.08-2.04-.76-4-2.48-1.6-1.38-2.5-2.24-3.03-2.58-.6-.38-.07-1.17.45-1.8.3-.36 5.56-5.1 5.67-5.54.01-.03.24-.1.34.13.1.23.04.34-.07.49-.1.13-3.47 3.3-9.3 9.1-1.1 1.1-1.98 1.63-2.84 1.58-.3-.02-1.1-.22-1.64-.43-.66-.26-1.18-.6-.6-1.2.3-.32 4.4-4.03 8.17-7.02 5.6-4.43 6.92-5.48 7.07-5.58.47-.3.94-.1.94.48z"/>
                </svg>
            </a>
            <a href="https://instagram.com/luxhair.amsterdam" title="Instagram">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.336 3.608 1.311.975.975 1.249 2.242 1.311 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.336 2.633-1.311 3.608-.975.975-2.242 1.249-3.608 1.311-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.336-3.608-1.311-.975-.975-1.249-2.242-1.311-3.608-.058-1.266-.07-1.646-.07-4.85s.012-3.584.07-4.85c.062-1.366.336-2.633 1.311-3.608.975-.975 2.242-1.249 3.608-1.311 1.266-.058 1.646-.07 4.85-.07zm0-2.163c-3.259 0-3.67.014-4.947.072-1.525.069-2.88.37-3.89 1.38-1.01 1.01-1.311 2.365-1.38 3.89-.058 1.277-.072 1.688-.072 4.947s.014 3.67.072 4.947c.069 1.525.37 2.88 1.38 3.89 1.01 1.01 2.365 1.311 3.89 1.38 1.277.058 1.688.072 4.947.072s3.67-.014 4.947-.072c1.525-.069 2.88-.37 3.89-1.38 1.01-1.01 1.311-2.365 1.38-3.89.058-1.277.072-1.688.072-4.947s-.014-3.67-.072-4.947c-.069-1.525-.37-2.88-1.38-3.89-1.01-1.01-2.365-1.311-3.89-1.38-1.277-.058-1.688-.072-4.947-.072zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm7.881-10.406a1.44 1.44 0 1 1-2.88 0 1.44 1.44 0 0 1 2.88 0z"/>
                </svg>
            </a>
        </div>
    </footer>

    <script>
        // Появление секций при скролле
        const fadeSections = document.querySelectorAll('.fade-in-section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.12, rootMargin: "0px 0px -100px 0px" });

        fadeSections.forEach(section => observer.observe(section));

        window.addEventListener('load', () => {
            document.querySelector('.hero-content').classList.add('is-visible');
        });

        // ────────────────────────────────────────────────
        //                  МАСКА ТЕЛЕФОНА
        // ────────────────────────────────────────────────
        const countrySelect = document.getElementById('country-code');
        const phoneInput = document.getElementById('phone');

        const phonePatterns = {
            '+7':   { mask: '(___) ___-__-__', digitsAfterCode: 10 },
            '+375': { mask: '(__) ___-__-__',  digitsAfterCode: 9  }
        };

        let currentCode = countrySelect.value;
        let currentPattern = phonePatterns[currentCode];

        function formatPhone(value, code, pattern) {
            let digits = value.replace(/\D/g, '');
            const codeDigits = code.replace('+', '');

            // Удаляем код страны из начала цифр, если он там
            if (digits.startsWith(codeDigits)) {
                digits = digits.slice(codeDigits.length);
            }

            // Ограничиваем количество цифр
            digits = digits.slice(0, pattern.digitsAfterCode);

            // Формируем строку
            let formatted = code;
            let i = 0;

            for (let char of pattern.mask) {
                if (i >= digits.length) break;
                if (char === '_') {
                    formatted += digits[i++];
                } else {
                    formatted += char;
                }
            }

            return formatted;
        }

        function updateMask() {
            currentCode = countrySelect.value;
            currentPattern = phonePatterns[currentCode];

            phoneInput.placeholder = currentCode + ' ' + currentPattern.mask;

            // Переформатируем текущее значение
            phoneInput.value = formatPhone(phoneInput.value, currentCode, currentPattern);
        }

        countrySelect.addEventListener('change', updateMask);

        phoneInput.addEventListener('input', function(e) {
            this.value = formatPhone(this.value, currentCode, currentPattern);
        });

        phoneInput.addEventListener('focus', function() {
            if (this.value === '') {
                this.value = currentCode;
            }
        });

        phoneInput.addEventListener('keydown', function(e) {
            const codeDigitsLength = currentCode.replace('+', '').length;
            if (e.key === 'Backspace' && this.selectionStart <= currentCode.length && this.value.length <= currentCode.length) {
                e.preventDefault();
            }
        });

        // Инициализация
        updateMask();

        // ────────────────────────────────────────────────
        //                  ОТПРАВКА ФОРМЫ (AJAX)
        // ────────────────────────────────────────────────
        const form = document.getElementById('contact-form');
        const messageBox = document.getElementById('form-message');
        const submitBtn = document.getElementById('submit-btn');

        form.addEventListener('submit', async function(e) {
            e.preventDefault();

            submitBtn.disabled = true;
            submitBtn.textContent = 'Отправка...';

            messageBox.className = '';
            messageBox.textContent = '';

            try {
                const response = await fetch(form.action, {
                    method: 'POST',
                    body: new FormData(form)
                });

                if (response.ok) {
                    messageBox.textContent = 'Спасибо! Заявка успешно отправлена. Мы свяжемся с вами в ближайшее время ✨';
                    messageBox.className = 'success';
                } else {
                    messageBox.textContent = 'Не удалось отправить заявку. Попробуйте позже или напишите нам в Instagram.';
                    messageBox.className = 'error';
                }
            } catch (err) {
                messageBox.textContent = 'Ошибка соединения. Проверьте интернет и попробуйте снова.';
                messageBox.className = 'error';
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Отправить заявку';

                if (messageBox.textContent) {
                    messageBox.classList.add('show');

                    setTimeout(() => {
                        messageBox.classList.remove('show');
                        setTimeout(() => {
                            messageBox.textContent = '';
                            messageBox.className = '';
                        }, 700);
                    }, 5000);
                }
            }
        });
    </script>

</body>
</html>
